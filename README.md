# ฺุช ุจุงุช ูพุดุชุจุงู ู ูุฑูุดูุฏู ุจุฑูุฏ ุชุดฺฉุฑ ๐ค

ฺฉ ฺุช ุจุงุช ููุดููุฏ ุจุง ุงุณุชูุงุฏู ุงุฒ OpenAI GPT API ุจุฑุง ูพุดุชุจุงู ู ูุฑูุด ูุญุตููุงุช ุจุฑูุฏ ุชุดฺฉุฑ

## โจ ูฺฺฏโูุง

- โ ุงุณุชูุงุฏู ุงุฒ OpenAI GPT API (ChatGPT)
- โ ฺฉุงูุชฺฉุณ ุงุฎุชุตุงุต ุจุฑูุฏ ุชุดฺฉุฑ
- โ ุญุงูุธู ูฺฉุงููู (ุณุงุจูู ฺฏูุชฺฏู ุจุฑุง ูุฑ ฺฉุงุฑุจุฑ)
- โ ุฑุงุจุท ฺฉุงุฑุจุฑ ุฒุจุง ู ูุงฺฉูุดโฺฏุฑุง
- โ ูพุดุชุจุงู ฺฉุงูู ุงุฒ ุฒุจุงู ูุงุฑุณ
- โ ุขูุงุฏู ุจุฑุง ุงุณุชูุฑุงุฑ ุฏุฑ ุฏุงููู ุนููู
- โ ูพุดุชุจุงู ุงุฒ Docker
- โ API RESTful ุจุฑุง ฺฉูพุงุฑฺูโุณุงุฒ

## ๐ ูุตุจ ู ุฑุงูโุงูุฏุงุฒ

### ูพุดโูุงุฒูุง

- Python 3.11 ุง ุจุงูุงุชุฑ
- OpenAI API Key (ุงุฒ [OpenAI Platform](https://platform.openai.com/api-keys) ุฏุฑุงูุช ฺฉูุฏ)

### ูุตุจ ูุญู

1. **ฺฉููู ฺฉุฑุฏู ุง ุฏุงูููุฏ ูพุฑูฺู**

```bash
cd chatbot_project
```

2. **ูุตุจ ูุงุจุณุชฺฏโูุง**

```bash
pip install -r requirements.txt
```

3. **ุชูุธู ูุชุบุฑูุง ูุญุท**

ูุงู `.env` ุฑุง ุงุฒ `.env.example` ฺฉูพ ฺฉูุฏ:

```bash
cp .env.example .env
```

ุณูพุณ ูุงู `.env` ุฑุง ูุฑุงุด ฺฉุฑุฏู ู API key ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ:

```env
OPENAI_API_KEY=sk-your-api-key-here
SECRET_KEY=your-secret-key-here
PORT=5000
FLASK_ENV=development
```

4. **ุงุฌุฑุง ุจุฑูุงูู**

```bash
python chatbot_web.py
```

ุณูพุณ ุจู ุขุฏุฑุณ `http://localhost:5000` ุจุฑูุฏ.

## ๐ ุงุณุชูุงุฏู

### ูุณุฎู ฺฉูุณูู

```bash
python chatbot.py
```

### ูุณุฎู ูุจ

```bash
python chatbot_web.py
```

ุจุนุฏ ุงุฒ ุงุฌุฑุงุ ูุฑูุฑฺฏุฑ ุฑุง ุจุงุฒ ฺฉุฑุฏู ู ุจู `http://localhost:5000` ุจุฑูุฏ.

## ๐ ุงุณุชูุฑุงุฑ ุฏุฑ ุฏุงููู ุนููู

### ุฑูุด 1: ุงุณุชูุงุฏู ุงุฒ Render (ุฑุงฺฏุงู)

1. ูพุฑูฺู ุฑุง ุฏุฑ GitHub ุขูพููุฏ ฺฉูุฏ
2. ุจู [Render](https://render.com) ุจุฑูุฏ ู ุญุณุงุจ ฺฉุงุฑุจุฑ ุจุณุงุฒุฏ
3. New Web Service ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
4. Repository ุฑุง ูุชุตู ฺฉูุฏ
5. ุชูุธูุงุช:
   - **Build Command**: `pip install -r requirements.txt`
   - **Start Command**: `gunicorn --bind 0.0.0.0:$PORT chatbot_web:app`
   - **Environment Variables**:
     - `OPENAI_API_KEY`: API key ุดูุง
     - `SECRET_KEY`: ฺฉ ฺฉูุฏ ุงููุช ุชุตุงุฏู
     - `PORT`: 5000 (ุง ูุฑ ูพูุฑุช ฺฉู Render ุชุนู ูโฺฉูุฏ)

### ุฑูุด 2: ุงุณุชูุงุฏู ุงุฒ Railway

1. ุจู [Railway](https://railway.app) ุจุฑูุฏ
2. New Project โ Deploy from GitHub
3. Repository ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ
4. Environment Variables ุฑุง ุชูุธู ฺฉูุฏ:
   - `OPENAI_API_KEY`
   - `SECRET_KEY`
5. Railway ุจู ุตูุฑุช ุฎูุฏฺฉุงุฑ ุงุณุชูุฑุงุฑ ูโฺฉูุฏ

### ุฑูุด 3: ุงุณุชูุงุฏู ุงุฒ Docker

1. **ุณุงุฎุช ุชุตูุฑ Docker**

```bash
docker build -t tashakor-chatbot .
```

2. **ุงุฌุฑุง ฺฉุงูุชูุฑ**

```bash
docker run -p 5000:5000 \
  -e OPENAI_API_KEY=your-api-key \
  -e SECRET_KEY=your-secret-key \
  tashakor-chatbot
```

3. **ุงุณุชูุงุฏู ุงุฒ Docker Compose**

```bash
# ุชูุธู .env ูุงู
cp .env.example .env
# ูุฑุงุด .env ู ูุงุฑุฏ ฺฉุฑุฏู API key

# ุงุฌุฑุง
docker-compose up -d
```

### ุฑูุด 4: ุงุณุชูุฑุงุฑ ุฏุฑ ุณุฑูุฑ VPS

1. **ูุตุจ ูุงุจุณุชฺฏโูุง ุฏุฑ ุณุฑูุฑ**

```bash
sudo apt update
sudo apt install python3-pip nginx
pip3 install -r requirements.txt
```

2. **ุงุฌุฑุง ุจุง Gunicorn**

```bash
gunicorn --bind 0.0.0.0:5000 --workers 4 chatbot_web:app
```

3. **ุชูุธู Nginx (ุงุฎุชุงุฑ)**

ูุงู `/etc/nginx/sites-available/chatbot` ุงุฌุงุฏ ฺฉูุฏ:

```nginx
server {
    listen 80;
    server_name your-domain.com;

    location / {
        proxy_pass http://127.0.0.1:5000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

4. **ูุนุงูโุณุงุฒ ุณุงุช**

```bash
sudo ln -s /etc/nginx/sites-available/chatbot /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

## ๐ง ูพฺฉุฑุจูุฏ

### ุณูุงุฑุดโุณุงุฒ ฺฉุงูุชฺฉุณ ุจุฑูุฏ

ูุงู `chatbot.py` ุฑุง ุจุงุฒ ฺฉุฑุฏู ู ูุชุบุฑ `brand_context` ุฑุง ูุฑุงุด ฺฉูุฏ:

```python
self.brand_context = """
ุดูุง ฺฉ ูพุดุชุจุงู ู ูุฑูุดูุฏู ุญุฑููโุง ุจุฑุง ุจุฑูุฏ "ุชุดฺฉุฑ" ูุณุชุฏ.
[ุงุทูุงุนุงุช ุจุฑูุฏ ุฎูุฏ ุฑุง ุงูุฌุง ูุงุฑุฏ ฺฉูุฏ]
"""
```

### ุชูุธูุงุช ูุฏู ChatGPT

ุฏุฑ ูุงู `chatbot.py` ูโุชูุงูุฏ ูุฏู ุฑุง ุชุบุฑ ุฏูุฏ:

```python
response = self.client.chat.completions.create(
    model="gpt-4o-mini",  # ุง "gpt-4" ุจุฑุง ุฏูุช ุจุดุชุฑ
    ...
)
```

## ๐ก API Endpoints

### POST `/chat`

ุงุฑุณุงู ูพุงู ุจู ฺุช ุจุงุช

**Request:**
```json
{
  "message": "ุณูุงู",
  "session_id": "optional-session-id"
}
```

**Response:**
```json
{
  "response": "ุณูุงู! ฺุทูุฑ ูโุชููู ฺฉูฺฉุชูู ฺฉููุ",
  "bot_name": "ูพุดุชุจุงู ุจุฑูุฏ ุชุดฺฉุฑ",
  "session_id": "session-id"
}
```

### POST `/clear`

ูพุงฺฉ ฺฉุฑุฏู ุณุงุจูู ูฺฉุงููู

**Request:**
```json
{
  "session_id": "session-id"
}
```

**Response:**
```json
{
  "message": "ุณุงุจูู ูฺฉุงููู ูพุงฺฉ ุดุฏ",
  "session_id": "session-id"
}
```

### GET `/health`

ุจุฑุฑุณ ูุถุนุช ุณุฑูุณ

**Response:**
```json
{
  "status": "healthy",
  "bot_available": true
}
```

## ๐จ ุณูุงุฑุดโุณุงุฒ ุฑุงุจุท ฺฉุงุฑุจุฑ

ูุงู `templates/chat.html` ุฑุง ูุฑุงุด ฺฉูุฏ ุชุง ุธุงูุฑ ู ุฑูฺฏโุจูุฏ ุฑุง ุชุบุฑ ุฏูุฏ.

## ๐ ุงููุช

- **Production**: ุญุชูุงู `SECRET_KEY` ุฑุง ุชุบุฑ ุฏูุฏ
- **API Key**: ูุฑฺฏุฒ API key ุฑุง ุฏุฑ ฺฉุฏ ูุฑุงุฑ ูุฏูุฏุ ุงุฒ ูุชุบุฑูุง ูุญุท ุงุณุชูุงุฏู ฺฉูุฏ
- **HTTPS**: ุจุฑุง ุงุณุชูุฑุงุฑ ุนููู ุงุฒ HTTPS ุงุณุชูุงุฏู ฺฉูุฏ (Let's Encrypt ุฑุงฺฏุงู ุงุณุช)

## ๐ ุงุฏุฏุงุดุชโูุง

- ุญุงูุธู ูฺฉุงููู ุฏุฑ ุญุงูุธู ุณุฑูุฑ ุฐุฎุฑู ูโุดูุฏ (ุฏุฑ ุตูุฑุช restart ุงุฒ ุจู ูโุฑูุฏ)
- ุจุฑุง ุฐุฎุฑู ุฏุงุฆูุ ูโุชูุงูุฏ ุงุฒ ุฏุชุงุจุณ (ูุซู PostgreSQL ุง MongoDB) ุงุณุชูุงุฏู ฺฉูุฏ
- ูุฒูู ุงุณุชูุงุฏู ุงุฒ OpenAI API ุจุฑ ุงุณุงุณ ุชุนุฏุงุฏ ุชูฺฉูโูุง ุงุณุชูุงุฏู ุดุฏู ูุญุงุณุจู ูโุดูุฏ

## ๐ ุนุจโุงุจ

### ุฎุทุง "OpenAI API key is required"

- ูุทูุฆู ุดูุฏ ูุงู `.env` ุงุฌุงุฏ ุดุฏู ู `OPENAI_API_KEY` ุฏุฑ ุขู ุชูุธู ุดุฏู ุงุณุช
- ุง ูุชุบุฑ ูุญุท ุฑุง ุจู ุตูุฑุช ุฏุณุช ุชูุธู ฺฉูุฏ: `export OPENAI_API_KEY=your-key`

### ุฎุทุง ุงุชุตุงู ุจู API

- ุงุชุตุงู ุงูุชุฑูุช ุฑุง ุจุฑุฑุณ ฺฉูุฏ
- API key ุฑุง ุจุฑุฑุณ ฺฉูุฏ
- ุงุฒ ุฏุงุดุชู ุงุนุชุจุงุฑ ฺฉุงู ุฏุฑ ุญุณุงุจ OpenAI ุงุทููุงู ุญุงุตู ฺฉูุฏ

## ๐ ูุฌูุฒ

ุงู ูพุฑูฺู ุจุฑุง ุงุณุชูุงุฏู ุขุฒุงุฏ ุงุณุช.

## ๐ค ูุดุงุฑฺฉุช

ุจุฑุง ุจูุจูุฏ ูพุฑูฺูุ Pull Request ุงุฑุณุงู ฺฉูุฏ ุง Issue ุงุฌุงุฏ ฺฉูุฏ.

## ๐ ูพุดุชุจุงู

ุจุฑุง ุณูุงูุงุช ู ูุดฺฉูุงุชุ Issue ุฏุฑ GitHub ุงุฌุงุฏ ฺฉูุฏ.

---

**ุณุงุฎุชู ุดุฏู ุจุง โค๏ธ ุจุฑุง ุจุฑูุฏ ุชุดฺฉุฑ**
